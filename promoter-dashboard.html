<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EarnLibr — Promoter Dashboard</title>
<style>
:root {
  --bg: #0b0d17;
  --card: rgba(15,23,36,0.85);
  --accent1: #4a90e2;
  --accent2: #a3ff6e;
  --muted: #bfc7d6;
  --danger: #ef4444;
  --success: #4ade80;
}
* { box-sizing: border-box; margin:0; padding:0; }
body {
  font-family: Inter, system-ui, Arial;
  background: var(--bg);
  color: #eef2f7;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
}
#menuToggle { display: none; }
.menu-icon {
  position: fixed;
  top: 20px;
  left: 20px;
  cursor: pointer;
  width: 30px;
  height: 22px;
  z-index: 1100;
}
.menu-icon span {
  display: block;
  height: 3px;
  width: 100%;
  background: var(--accent1);
  border-radius: 2px;
  margin: 4px 0;
  transition: all 0.4s ease;
}
.sidebar {
  position: fixed;
  top: 0;
  left: -280px;
  width: 280px;
  height: 100%;
  background: var(--card);
  backdrop-filter: blur(12px);
  padding-top: 60px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  transition: left 0.4s ease;
  z-index: 1000;
  box-shadow: 4px 0 20px rgba(0,0,0,0.5);
  border-right: 1px solid rgba(255,255,255,0.1);
}
.sidebar a {
  padding: 15px 25px;
  display: flex;
  align-items: center;
  gap: 15px;
  text-decoration: none;
  color: #eef2f7;
  font-weight: 500;
  border-radius: 8px;
  transition: background 0.3s, transform 0.2s;
}
.sidebar a:hover { background: rgba(74,144,226,0.25); transform: translateX(5px); }
.sidebar a i { color: var(--accent1); min-width: 24px; text-align: center; }
#menuToggle:checked ~ .sidebar { left: 0; }
#menuToggle:checked ~ .menu-icon span:nth-child(1) { transform: rotate(45deg) translate(6px,6px);}
#menuToggle:checked ~ .menu-icon span:nth-child(2) { opacity:0; }
#menuToggle:checked ~ .menu-icon span:nth-child(3) { transform: rotate(-45deg) translate(6px,-6px);}
.main-content { flex: 1; padding: 20px; margin-left: 0; transition: margin-left 0.4s ease; }
#menuToggle:checked ~ .main-content { margin-left: 280px; }
.profile-hero { display: flex; justify-content:center; align-items:center; min-height:100vh; padding:20px; background: linear-gradient(135deg, rgba(74,144,226,0.05), rgba(163,255,110,0.05)); }
.profile-card { background: rgba(15,23,36,0.9); backdrop-filter: blur(12px); border-radius: 20px; padding: 40px 30px; max-width:600px; width:100%; text-align:center; box-shadow:0 12px 30px rgba(0,0,0,0.5); transition: transform 0.3s ease; }
.profile-card:hover { transform: translateY(-4px); }
.profile-avatar { width:100px; height:100px; margin:-70px auto 15px; border:4px solid var(--accent1); border-radius:50%; overflow:hidden; box-shadow:0 6px 15px rgba(0,0,0,0.4); }
.profile-avatar img { width:100%; height:100%; object-fit:cover; }
.profile-card h2 { font-size:28px; margin:10px 0 5px; }
.profile-card p { color: var(--muted); font-size:16px; margin-bottom:20px; }
.profile-stats { display:flex; justify-content:space-around; margin-bottom:25px; flex-wrap:wrap; gap:15px; }
.profile-stats .stat { display:flex; align-items:center; gap:8px; font-size:15px; background: rgba(255,255,255,0.05); padding:10px 15px; border-radius:12px; flex:1; min-width:120px; justify-content:center; transition: background 0.3s, transform 0.2s; }
.profile-stats .stat:hover { background: rgba(74,144,226,0.15); transform: translateY(-3px); }
.profile-actions { display:flex; justify-content:center; gap:15px; }
.btn.logout-btn { padding:10px 20px; border-radius:12px; background: var(--danger); border:none; color:#fff; font-weight:bold; cursor:pointer; transition:0.3s; }
.btn.logout-btn:hover { opacity:0.9; transform:translateY(-2px); }
.notif { margin:10px auto; padding:12px 18px; width:90%; max-width:500px; border-radius:10px; display:none; font-size:14px; text-align:center; }
.notif.success { background:#1a2235; border-left:4px solid var(--success); color:var(--success); }
.notif.error { background:#1a2235; border-left:4px solid var(--danger); color:var(--danger); }
</style>
<script src="https://kit.fontawesome.com/a2b6f38c57.js" crossorigin="anonymous"></script>
</head>
<body>

<input type="checkbox" id="menuToggle">
<label for="menuToggle" class="menu-icon"><span></span><span></span><span></span></label>

<div class="sidebar">
  <a href="promoters-get-offers.html"><i class="fas fa-tags"></i>Get Offers</a>
  <a href="promoters-notifications.html"><i class="fas fa-bell"></i>Notifications</a>
  <a href="promoters-promotions.html"><i class="fas fa-bullhorn"></i>Promotions</a>
  <a href="promoters-wallet.html"><i class="fas fa-wallet"></i>Wallet</a>
</div>

<div class="main-content">
  <div id="notif" class="notif"></div>
  <div class="profile-hero">
    <div class="profile-card">
      <div class="profile-avatar">
        <img src="https://raw.githubusercontent.com/Carrew/Earnlibr-/refs/heads/main/1000115452-01.jpeg" alt="Promoter Avatar">
      </div>
      <h2 id="promoterName"></h2>
      <p id="promoterEmail"></p>
      <div class="profile-stats">
        <div class="stat"><i class="fas fa-phone-alt"></i><span id="promoterPhone"></span></div>
        <div class="stat"><i class="fas fa-gift"></i><span id="promoterReferral"></span></div>
        <div class="stat"><i class="fas fa-calendar-alt"></i><span id="promoterCreated"></span></div>
      </div>
      <div class="profile-actions">
        <button id="logoutBtn" class="btn logout-btn">Logout</button>
      </div>
    </div>
  </div>
</div>

<script>
const notif = document.getElementById('notif');
const promoterName = document.getElementById('promoterName');
const promoterEmail = document.getElementById('promoterEmail');
const promoterPhone = document.getElementById('promoterPhone');
const promoterReferral = document.getElementById('promoterReferral');
const promoterCreated = document.getElementById('promoterCreated');
const logoutBtn = document.getElementById('logoutBtn');

// Retrieve session
const session = JSON.parse(localStorage.getItem('userSession') || 'null');

// Validate session & role
if(!session || session.role !== 'freelancer'){
  notif.textContent = '⚠ You must be logged in as promoter to access this page.';
  notif.className = 'notif error';
  notif.style.display = 'block';
  setTimeout(() => window.location.href='login.html', 2000);
} else {
  promoterName.textContent = session.name || 'Promoter';
  promoterEmail.textContent = session.email || '';
  promoterPhone.textContent = session.phone || 'N/A';
  promoterReferral.textContent = `Referral Code: ${session.referralCode || 'N/A'}`;
  promoterCreated.textContent = `Joined: ${new Date(session.createdAt).toLocaleDateString() || 'N/A'}`;
}

// Logout
logoutBtn.addEventListener('click', ()=>{
  localStorage.removeItem('userSession');
  window.location.href='login.html';
});
</script>

</body>
</html>
